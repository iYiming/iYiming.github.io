<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> She is Python · 一鸣的博客</title><meta name="description" content="She is Python - iYiming"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://iYiming.me/atom.xml" title="一鸣的博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.jpg"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jiajiayouba" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/iYiming" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">She is Python</h1><div class="post-info">2015年3月1日</div><div class="post-content"><p>最近看到各大牛，都在捣鼓 Python。本着羡慕嫉妒恨的节奏，也热闹下。公司有个北大女医学博士，人家都会用 Python 写东西。跟着学习下，整理下这几天学到的东西和遇到的问题。</p>
<h2 id="安装-Python"><a href="#安装-Python" class="headerlink" title="安装 Python"></a>安装 Python</h2><p><a href="https://www.python.org" target="_blank" rel="external">官网下载</a>  </p>
<p>Downloads 按钮很明显也很智能，根据你当前的系统，给你推荐下载哪一个。如下图：</p>
<p><img src="/images/she_is_python/she_is_python_01.png" alt="She_is_Python"> </p>
<h2 id="选择-Python-版本"><a href="#选择-Python-版本" class="headerlink" title="选择 Python 版本"></a>选择 Python 版本</h2><p><strong>Python 3.X 和 Python 2.X 到底该选择哪个？</strong>  </p>
<p>听别人说改动挺大，本着跟准新技术的原则，我选择的是 Python 3.X。</p>
<h2 id="学习教程"><a href="#学习教程" class="headerlink" title="学习教程"></a>学习教程</h2><p><a href="https://docs.python.org/3.4/tutorial/#the-python-tutorial" target="_blank" rel="external">官方教程</a> </p>
<p><a href="https://docs.python.org/3.4/library/index.html#library-index" target="_blank" rel="external">官方库</a>  </p>
<p><a href="https://wiki.python.org/moin/UsefulModules" target="_blank" rel="external">第三方库</a></p>
<p><a href="http://docs.pythonsprints.com/python3_porting/py-porting.html" target="_blank" rel="external">3.X 和 2.X版本的区别</a> </p>
<h2 id="pip"><a href="#pip" class="headerlink" title="pip"></a>pip</h2><p>pip 是啥，类似 iOS 开发中的 CocoaPods，类库管理工具。</p>
<p><a href="https://pip.pypa.io/en/latest/installing.html" target="_blank" rel="external">如何安装 pip，需自备梯子</a> </p>
<p><a href="https://pip.pypa.io/en/latest/user_guide.html" target="_blank" rel="external">如何使用 pip</a> </p>
<p>我在安装的过程中，安装成功，但出现了一个没有 pip 这个命令的问题，应该是还没安装成功的原因吧。下方答案虽然没打对号，但是用这个<code>sudo easy_install pip</code>命令,就解决了。</p>
<p><a href="http://stackoverflow.com/questions/9780717/bash-pip-command-not-found" target="_blank" rel="external">StackOverFlow 上的解决方法</a></p>
<h2 id="4-Get-POST-请求数据"><a href="#4-Get-POST-请求数据" class="headerlink" title="4.Get/POST 请求数据"></a>4.Get/POST 请求数据</h2><p>GET 请求  </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> urllib.request</div><div class="line"><span class="keyword">import</span> urllib</div><div class="line"></div><div class="line">data = &#123;&#125;</div><div class="line"></div><div class="line">data[<span class="string">'id'</span>] = <span class="string">'1'</span> <span class="comment">#请求参数</span></div><div class="line"></div><div class="line">urlStr = <span class="string">'http://XXX'</span> <span class="comment">#请求地址</span></div><div class="line">urlParameters = urllib.parse.urlencode(data)</div><div class="line"></div><div class="line">print(urlParameters)<span class="comment">#打印参数</span></div><div class="line"></div><div class="line">fullURLString = urlStr + <span class="string">'?'</span> + urlParameters <span class="comment">#拼接URL 地址 + 参数</span></div><div class="line"></div><div class="line">resp = urllib.request.urlopen(fullURLString)</div><div class="line">responseStr = resp.read()</div><div class="line">responseDecodeStr = responseStr.decode(<span class="string">"utf8"</span>)</div><div class="line">print(responseDecodeStr)</div></pre></td></tr></table></figure>
<p>POST 请求</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> urllib.request</div><div class="line"><span class="keyword">import</span> urllib</div><div class="line"></div><div class="line">data = &#123;&#125;</div><div class="line"></div><div class="line">data[<span class="string">'id'</span>] = <span class="string">'1'</span></div><div class="line"></div><div class="line">urlStr = <span class="string">'http://XXX'</span><span class="comment">#请求地址</span></div><div class="line">urlParameters = urllib.parse.urlencode(data)</div><div class="line">postdata = urlParameters.encode(<span class="string">'utf-8'</span>)  </div><div class="line"></div><div class="line">print(urlParameters)</div><div class="line"> </div><div class="line">response = urllib.request.urlopen(urlStr,postdata)</div><div class="line">responseStr = response.read()</div><div class="line">responseDecodeStr = responseStr.decode(<span class="string">"utf8"</span>)</div><div class="line">print(responseDecodeStr)</div></pre></td></tr></table></figure>
<h2 id="爬虫-1：查找一个网站所有的链接地址"><a href="#爬虫-1：查找一个网站所有的链接地址" class="headerlink" title="爬虫 1：查找一个网站所有的链接地址"></a>爬虫 1：查找一个网站所有的链接地址</h2><p>这个例子是<a href="http://python.jobbole.com/81102/" target="_blank" rel="external">这里面的</a>，光看不敲，不是做技术的态度。参照他的，自己写一哈，不如他写的好，好多东西没考虑到。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> urllib.request</div><div class="line"><span class="keyword">import</span> urllib</div><div class="line"></div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</div><div class="line"></div><div class="line"><span class="comment">#要爬取的地址</span></div><div class="line"></div><div class="line">urlStr = <span class="string">'http://www.douban.com'</span></div><div class="line"></div><div class="line"><span class="comment">#创建一个队列 用来存储要爬的URL</span></div><div class="line"></div><div class="line">spiderQueue = deque()</div><div class="line"></div><div class="line"><span class="comment">#将爬取的地址放在队列里</span></div><div class="line"></div><div class="line">spiderQueue.append(urlStr)</div><div class="line"></div><div class="line"><span class="comment">#创建一个集合 用来存储已经爬过的URL</span></div><div class="line"></div><div class="line">visitedSet = set() </div><div class="line"></div><div class="line"><span class="comment">#创建循环开始扫描</span></div><div class="line"></div><div class="line"><span class="keyword">while</span> spiderQueue:</div><div class="line">    urlStr = spiderQueue.popleft() <span class="comment">#队首元素</span></div><div class="line"></div><div class="line">    <span class="keyword">print</span> (urlStr)</div><div class="line"></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        response = urllib.request.urlopen(urlStr)</div><div class="line">        </div><div class="line">        responseStr = response.read()<span class="comment">#URL网页源码</span></div><div class="line"></div><div class="line">        soup = BeautifulSoup(responseStr)</div><div class="line">        </div><div class="line">        linksArray = soup.findAll(<span class="string">'a'</span>)</div><div class="line">        <span class="comment">#print('链接地址:' + str(linksArray))</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> link <span class="keyword">in</span> linksArray:</div><div class="line">            hrefStr = link.get(<span class="string">'href'</span>)</div><div class="line">            print(<span class="string">'链接地址 '</span> + hrefStr + <span class="string">'\n'</span>)</div><div class="line">                </div><div class="line">            <span class="keyword">if</span> <span class="string">'http'</span> <span class="keyword">in</span> hrefStr <span class="keyword">and</span> hrefStr <span class="keyword">not</span> <span class="keyword">in</span> visitedSet:</div><div class="line">                visitedSet |=&#123;hrefStr&#125;</div><div class="line">                spiderQueue.append(hrefStr)</div><div class="line">                print(<span class="string">'加入队列 ---&gt;  '</span> + hrefStr + <span class="string">'\n'</span>)</div><div class="line"></div><div class="line">    <span class="keyword">except</span>:</div><div class="line">        print(<span class="string">'遇到异常'</span>)</div><div class="line">        <span class="keyword">continue</span></div></pre></td></tr></table></figure>
<h2 id="爬虫2：爬妹子图片"><a href="#爬虫2：爬妹子图片" class="headerlink" title="爬虫2：爬妹子图片"></a>爬虫2：爬妹子图片</h2><p>这个可能有点邪恶，是<a href="http://www.jianshu.com/p/b87413a9307e" target="_blank" rel="external">这篇文章</a>教我的， 我多添加了些代码。可以爬出这个<a href="http://www.dbmeizi.com" target="_blank" rel="external">豆瓣妹子网站</a>的所有图片。可以再优化下。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#抓妹子图片</span></div><div class="line"><span class="comment">#根据http://dbmeizi.com/?p=1 </span></div><div class="line"><span class="comment">#li class = 'span3'</span></div><div class="line"><span class="comment">#img data-bigimg属性</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> urllib.request</div><div class="line"><span class="keyword">import</span> urllib</div><div class="line"></div><div class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</div><div class="line"></div><div class="line"><span class="keyword">while</span> <span class="number">1</span>:<span class="comment">#这个地方可以优化下 要不爬到Duang</span></div><div class="line">    pageNumber = <span class="number">1</span> <span class="comment">#页码</span></div><div class="line"></div><div class="line">    urlStr = <span class="string">'http://dbmeizi.com/?p='</span> + str(pageNumber)<span class="comment">#URL 地址</span></div><div class="line">    </div><div class="line">    response = urllib.request.urlopen(urlStr)</div><div class="line">    responseStr = response.read() <span class="comment">#网页源代码</span></div><div class="line"></div><div class="line">    soup = BeautifulSoup(responseStr)</div><div class="line"></div><div class="line">    liTagsArray = soup.findAll(<span class="string">'li'</span>,attrs = &#123;<span class="string">'class'</span>:<span class="string">'span3'</span>&#125;)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> liTagsArray:</div><div class="line">         imageTags = li.findAll(<span class="string">'img'</span>)<span class="comment">#img标签</span></div><div class="line"></div><div class="line">         <span class="keyword">for</span> image <span class="keyword">in</span> imageTags:</div><div class="line">            imageLink = image.get(<span class="string">'data-bigimg'</span>)<span class="comment">#data-src  bigimg</span></div><div class="line">            imageName = image.get(<span class="string">'data-id'</span>)</div><div class="line">            fileSavePath = <span class="string">'/Users/iYiming/Downloads/meizi/%s.jpg'</span> % imageName</div><div class="line">            urllib.request.urlretrieve(imageLink,fileSavePath)</div><div class="line">            </div><div class="line">            <span class="keyword">print</span> (fileSavePath) </div><div class="line"></div><div class="line"></div><div class="line">    pageNumber += <span class="number">1</span></div><div class="line">    urlStr = <span class="string">'http://dbmeizi.com/?p='</span> + str(pageNumber)<span class="comment">#URL 地址</span></div></pre></td></tr></table></figure>
<p>展示下爬到的东西： </p>
<p><img src="/images/she_is_python/she_is_python_02.png" alt="She_is_Python"> </p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><a href="http://python.jobbole.com/81102/" target="_blank" rel="external">一个不错教程：用 Python 3 开发网络爬虫</a></p>
<p>中间遇到的问题：</p>
<p><a href="http://segmentfault.com/q/1010000000340908/a-1020000000340928" target="_blank" rel="external">Python 3.4 版本 和 2.7 版本的不同</a>  </p>
<p><a href="http://www.zhihu.com/question/26532408" target="_blank" rel="external">IDLE 中不能输入中文的问题</a></p>
<p>有疑惑的问题</p>
<p>0.IDLE 如何带自动提示，太难受了<br>1.没有提示，这么多类库，怎么用？</p>
<p>感谢上面所有链接的作者！</p>
</div></article></div></section><footer><div class="paginator"><a href="/2015/03/03/jing-cheng-yi-nian/" class="prev">上一篇</a><a href="/2015/02/25/mac-xia-chang-yong-ruan-jian/" class="next">下一篇</a></div><div data-thread-key="2015/03/01/she-is-python/" data-title="She is Python" data-url="http://iYiming.me/2015/03/01/she-is-python/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"jiajiayouba"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2014 - 2016 <a href="http://iYiming.me">iYiming</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253468447'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s6.cnzz.com/z_stat.php%3Fid%3D1253468447%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?3cec0b24b46b86302d1aa3b050d4668f";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm, s);})();</script></body></html>