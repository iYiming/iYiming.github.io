<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Swift 2.0 â€”â€” åŸºç¡€éƒ¨åˆ† Â· ä¸€é¸£çš„åšå®¢</title><meta name="description" content="Swift 2.0 â€”â€” åŸºç¡€éƒ¨åˆ† - iYiming"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yoursite.com/atom.xml" title="ä¸€é¸£çš„åšå®¢"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.jpg"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jiajiayouba" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/iYiming" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Swift 2.0 â€”â€” åŸºç¡€éƒ¨åˆ†</h1><div class="post-info">2015å¹´11æœˆ2æ—¥</div><div class="post-content"><p><img src="/images/swift-ji-chu-bu-fen/0.jpg" alt="åŸºç¡€éƒ¨åˆ†"></p>
<p>0.Swift åŒ…å«äº† C å’Œ Objective-C ä¸Šæ‰€æœ‰åŸºç¡€æ•°æ®ç±»å‹ï¼Œ<code>Int</code> è¡¨ç¤ºæ•´å‹å€¼ï¼›<code>Double</code> å’Œ <code>Float</code> è¡¨ç¤ºæµ®ç‚¹å‹å€¼ï¼›<code>Bool</code> æ˜¯å¸ƒå°”å‹å€¼ï¼›<code>String</code> æ˜¯æ–‡æœ¬å‹æ•°æ®ã€‚Swift è¿˜æä¾›äº†ä¸‰ä¸ªåŸºæœ¬çš„é›†åˆç±»å‹: <code>Array</code> ï¼Œ<code>Set</code> å’Œ<code>Dictionary</code>ã€‚</p>
<p>1.Swift è¿˜å¢åŠ äº† Objective-C ä¸­æ²¡æœ‰çš„é«˜é˜¶æ•°æ®ç±»å‹æ¯”å¦‚å…ƒç»„ï¼ˆTupleï¼‰ã€‚å…ƒç»„å¯ä»¥è®©ä½ åˆ›å»ºæˆ–è€…ä¼ é€’ä¸€ç»„æ•°æ®ï¼Œæ¯”å¦‚ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ªå…ƒç»„å¯ä»¥è¿”å›å¤šä¸ªå€¼ã€‚</p>
<p>2.Swift è¿˜å¢åŠ äº†å¯é€‰ï¼ˆOptionalï¼‰ç±»å‹ï¼Œç”¨äºå¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µï¼Œå®ƒå¯ä»¥ç”¨åœ¨<strong>ä»»ä½•ç±»å‹ä¸Š</strong>ã€‚  </p>
<p>3.å¸¸é‡å’Œå˜é‡å¿…é¡»åœ¨ä½¿ç”¨å‰å£°æ˜ï¼Œç”¨ <code>let</code> æ¥å£°æ˜å¸¸é‡ï¼Œç”¨ <code>var</code> æ¥å£°æ˜å˜é‡ã€‚</p>
<p>4.å¯ä»¥åœ¨ä¸€è¡Œä¸­å£°æ˜å¤šä¸ªå¸¸é‡æˆ–è€…å¤šä¸ªå˜é‡ï¼Œç”¨é€—å·éš”å¼€ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">0.0</span>, y = <span class="number">0.0</span>, z = <span class="number">0.0</span></div></pre></td></tr></table></figure>
<p>5.å½“å£°æ˜å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™å¯ä»¥åŠ ä¸Šç±»å‹æ ‡æ³¨ï¼ˆtype annotationï¼‰ï¼Œè¯´æ˜å¸¸é‡æˆ–è€…å˜é‡ä¸­è¦å­˜å‚¨çš„å€¼çš„ç±»å‹ã€‚å¦‚æœè¦æ·»åŠ ç±»å‹æ ‡æ³¨ï¼Œéœ€è¦åœ¨å¸¸é‡æˆ–è€…å˜é‡ååé¢åŠ ä¸Š<strong>ä¸€ä¸ªå†’å·å’Œç©ºæ ¼ï¼Œç„¶ååŠ ä¸Šç±»å‹åç§°</strong>ã€‚</p>
<p>6.å¯ä»¥åœ¨ä¸€è¡Œä¸­å®šä¹‰å¤šä¸ªåŒæ ·ç±»å‹çš„å˜é‡ï¼Œç”¨é€—å·åˆ†å‰²ï¼Œå¹¶åœ¨æœ€åä¸€ä¸ªå˜é‡åä¹‹åæ·»åŠ ç±»å‹æ ‡æ³¨ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> red, green, blue: <span class="type">Double</span></div></pre></td></tr></table></figure>
<p>7.ä¸€èˆ¬æ¥è¯´ä½ å¾ˆå°‘éœ€è¦å†™ç±»å‹æ ‡æ³¨ã€‚å¦‚æœä½ åœ¨å£°æ˜å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™èµ‹äº†ä¸€ä¸ªåˆå§‹å€¼ï¼ŒSwiftå¯ä»¥æ¨æ–­å‡ºè¿™ä¸ªå¸¸é‡æˆ–è€…å˜é‡çš„ç±»å‹ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> i = <span class="number">0.0</span> <span class="comment">//å°†iå˜é‡æ¨æ–­ä¸ºDoubleç±»å‹</span></div></pre></td></tr></table></figure>
<p>8.ä½ å¯ä»¥ç”¨ä»»ä½•ä½ å–œæ¬¢çš„å­—ç¬¦ä½œä¸ºå¸¸é‡å’Œå˜é‡åï¼ŒåŒ…æ‹¬ Unicode å­—ç¬¦:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> Ï€ = <span class="number">3.14159</span></div><div class="line"><span class="keyword">let</span> ä½ å¥½ = <span class="string">"ä½ å¥½ä¸–ç•Œ"</span></div><div class="line"><span class="keyword">let</span> ğŸ¶ğŸ® = <span class="string">"dogcow"</span></div></pre></td></tr></table></figure>
<p>9.ä½ å¯ä»¥ç”¨print(_:separator:terminator:)å‡½æ•°æ¥è¾“å‡ºå½“å‰å¸¸é‡æˆ–å˜é‡çš„å€¼ã€‚</p>
<p><strong><code>print(_:separator:terminator:)</code> æ˜¯ä¸€ä¸ªç”¨æ¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå€¼åˆ°é€‚å½“è¾“å‡ºåŒºçš„å…¨å±€å‡½æ•°ã€‚å¦‚æœä½ ç”¨ Xcodeï¼Œ<code>print(_:separator:terminator:)</code> å°†ä¼šè¾“å‡ºå†…å®¹åˆ°â€œconsoleâ€é¢æ¿ä¸Šã€‚<code>separator</code> å’Œ <code>terminator</code> å‚æ•°å…·æœ‰é»˜è®¤å€¼ï¼Œå› æ­¤ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™å¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¯¥å‡½æ•°é€šè¿‡æ·»åŠ æ¢è¡Œç¬¦æ¥ç»“æŸå½“å‰è¡Œã€‚å¦‚æœä¸æƒ³æ¢è¡Œï¼Œå¯ä»¥ä¼ é€’ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ç»™ <code>terminator</code> å‚æ•°â€“ä¾‹å¦‚ï¼Œ<code>print(someValue, terminator:&quot;&quot;)</code>ã€‚</strong></p>
<p>10.Swift ç”¨å­—ç¬¦ä¸²æ’å€¼ï¼ˆstring interpolationï¼‰çš„æ–¹å¼æŠŠå¸¸é‡åæˆ–è€…å˜é‡åå½“åšå ä½ç¬¦åŠ å…¥åˆ°é•¿å­—ç¬¦ä¸²ä¸­ï¼ŒSwift ä¼šç”¨å½“å‰å¸¸é‡æˆ–å˜é‡çš„å€¼æ›¿æ¢è¿™äº›å ä½ç¬¦ã€‚å°†å¸¸é‡æˆ–å˜é‡åæ”¾å…¥åœ†æ‹¬å·ä¸­ï¼Œå¹¶åœ¨å¼€æ‹¬å·å‰ä½¿ç”¨åæ–œæ å°†å…¶è½¬ä¹‰ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> friendlyWelcome = <span class="string">"Hello!"</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"The current value of friendlyWelcome is <span class="subst">\(friendlyWelcome)</span>"</span>)</div></pre></td></tr></table></figure>
<p>11.å•è¡Œæ³¨é‡Šä»¥åŒæ­£æ–œæ ï¼ˆ <code>//</code> ï¼‰ä½œä¸ºèµ·å§‹æ ‡è®°;ä½ ä¹Ÿå¯ä»¥è¿›è¡Œå¤šè¡Œæ³¨é‡Šï¼Œå…¶èµ·å§‹æ ‡è®°ä¸ºå•ä¸ªæ­£æ–œæ åè·Ÿéšä¸€ä¸ªæ˜Ÿå·ï¼ˆ<code>/*</code>ï¼‰ï¼Œç»ˆæ­¢æ ‡è®°ä¸ºä¸€ä¸ªæ˜Ÿå·åè·Ÿéšå•ä¸ªæ­£æ–œæ ï¼ˆ <code>*/</code> ï¼‰;ä¹Ÿå¯ä»¥è¿›è¡ŒåµŒå¥—æ³¨é‡Šã€‚</p>
<p>12.ä¸å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸åŒï¼ŒSwift å¹¶ä¸å¼ºåˆ¶è¦æ±‚ä½ åœ¨æ¯æ¡è¯­å¥çš„ç»“å°¾å¤„ä½¿ç”¨åˆ†å·ï¼ˆ;ï¼‰ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰ç…§ä½ è‡ªå·±çš„ä¹ æƒ¯æ·»åŠ åˆ†å·ã€‚<strong>æœ‰ä¸€ç§æƒ…å†µä¸‹å¿…é¡»è¦ç”¨åˆ†å·ï¼Œå³ä½ æ‰“ç®—åœ¨åŒä¸€è¡Œå†…å†™å¤šæ¡ç‹¬ç«‹çš„è¯­å¥</strong>ï¼š  </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> cat = <span class="string">"ğŸ±"</span>; <span class="built_in">print</span>(cat)</div><div class="line"><span class="comment">// è¾“å‡º "ğŸ±"</span></div></pre></td></tr></table></figure>
<p>13.<strong>å½“æ¨æ–­æµ®ç‚¹æ•°çš„ç±»å‹æ—¶ï¼ŒSwift æ€»æ˜¯ä¼šé€‰æ‹© <code>Double</code> è€Œä¸æ˜¯ <code>Float</code></strong>ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> pi = <span class="number">3.14159</span></div><div class="line"><span class="comment">// pi ä¼šè¢«æ¨æµ‹ä¸º Double ç±»å‹</span></div></pre></td></tr></table></figure>
<p>14.ç±»å‹åˆ«åï¼ˆtype aliasesï¼‰å°±æ˜¯ç»™ç°æœ‰ç±»å‹å®šä¹‰å¦ä¸€ä¸ªåå­—ã€‚ä½ å¯ä»¥ä½¿ç”¨ <code>typealias</code> å…³é”®å­—æ¥å®šä¹‰ç±»å‹åˆ«å:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typealias</span> <span class="type">AudioSample</span> = <span class="type">UInt16</span></div><div class="line"><span class="keyword">var</span> maxAmplitudeFound = <span class="type">AudioSample</span>.<span class="built_in">min</span></div></pre></td></tr></table></figure>
<p>15.Swift æœ‰ä¸€ä¸ªåŸºæœ¬çš„å¸ƒå°”ï¼ˆBooleanï¼‰ç±»å‹ï¼Œå«åš <code>Bool</code>ã€‚å¸ƒå°”å€¼æŒ‡é€»è¾‘ä¸Šçš„å€¼ï¼Œå› ä¸ºå®ƒä»¬åªèƒ½æ˜¯çœŸæˆ–è€…å‡ã€‚Swift æœ‰ä¸¤ä¸ªå¸ƒå°”å¸¸é‡ï¼Œ<code>true</code> å’Œ <code>false</code>ã€‚</p>
<p>16.å…ƒç»„ï¼ˆtuplesï¼‰æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ã€‚<strong>å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¹¶ä¸è¦æ±‚æ˜¯ç›¸åŒç±»å‹</strong>ã€‚  </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> http404Error = (<span class="number">404</span>, <span class="string">"Not Found"</span>)</div><div class="line"><span class="keyword">let</span> (statusCode, statusMessage) = http404Error</div><div class="line"><span class="built_in">print</span>(<span class="string">"The status code is <span class="subst">\(statusCode)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status code is 404"</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"The status message is <span class="subst">\(statusMessage)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status message is Not Found"</span></div></pre></td></tr></table></figure>
<p>17.å¦‚æœä½ åªéœ€è¦ä¸€éƒ¨åˆ†å…ƒç»„å€¼ï¼Œåˆ†è§£çš„æ—¶å€™å¯ä»¥æŠŠè¦å¿½ç•¥çš„éƒ¨åˆ†ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰æ ‡è®°ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> (justTheStatusCode, <span class="number">_</span>) = http404Error</div><div class="line"><span class="built_in">print</span>(<span class="string">"The status code is <span class="subst">\(justTheStatusCode)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status code is 404"</span></div></pre></td></tr></table></figure>
<p>18.ä½ è¿˜å¯ä»¥<strong>é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®å…ƒç»„ä¸­çš„å•ä¸ªå…ƒç´ ï¼Œä¸‹æ ‡ä»é›¶å¼€å§‹</strong></p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">print</span>(<span class="string">"The status code is <span class="subst">\(http404Error.<span class="number">0</span>)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status code is 404"</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"The status message is <span class="subst">\(http404Error.<span class="number">1</span>)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status message is Not Found"</span></div></pre></td></tr></table></figure>
<p>19.ä½ å¯ä»¥åœ¨å®šä¹‰å…ƒç»„çš„æ—¶å€™ç»™å•ä¸ªå…ƒç´ å‘½å</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> http200Status = (statusCode: <span class="number">200</span>, description: <span class="string">"OK"</span>)</div><div class="line"></div><div class="line"><span class="built_in">print</span>(<span class="string">"The status code is <span class="subst">\(http200Status.statusCode)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status code is 200"</span></div><div class="line"><span class="built_in">print</span>(<span class="string">"The status message is <span class="subst">\(http200Status.description)</span>"</span>)</div><div class="line"><span class="comment">// è¾“å‡º "The status message is OK"</span></div></pre></td></tr></table></figure>
<p>20.å¯é€‰ç±»å‹</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> serverResponseCode: <span class="type">Int</span>? = <span class="number">404</span></div><div class="line"><span class="comment">// serverResponseCode åŒ…å«ä¸€ä¸ªå¯é€‰çš„ Int å€¼ 404</span></div><div class="line">serverResponseCode = <span class="literal">nil</span></div><div class="line"><span class="comment">// serverResponseCode ç°åœ¨ä¸åŒ…å«å€¼</span></div></pre></td></tr></table></figure>
<p>21.å¯é€‰ç»‘å®šæ ¼å¼</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> constantName = someOptional &#123;</div><div class="line">    statements</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>22.å¯ä»¥åŒ…å«å¤šä¸ªå¯é€‰ç»‘å®šåœ¨ <code>if</code> è¯­å¥ä¸­ï¼Œå¹¶ä½¿ç”¨ <code>where</code> å­å¥åšå¸ƒå°”å€¼åˆ¤æ–­ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> <span class="keyword">let</span> firstNumber = <span class="type">Int</span>(<span class="string">"4"</span>), secondNumber = <span class="type">Int</span>(<span class="string">"42"</span>) <span class="keyword">where</span> firstNumber &lt; secondNumber &#123;</div><div class="line">    <span class="built_in">print</span>(<span class="string">"<span class="subst">\(firstNumber)</span> &lt; <span class="subst">\(secondNumber)</span>"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// prints "4 &lt; 42"</span></div></pre></td></tr></table></figure>
<p>23.æœ‰æ—¶å€™åœ¨ç¨‹åºæ¶æ„ä¸­ï¼Œç¬¬ä¸€æ¬¡è¢«èµ‹å€¼ä¹‹åï¼Œå¯ä»¥ç¡®å®šä¸€ä¸ªå¯é€‰ç±»å‹æ€»ä¼šæœ‰å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¯æ¬¡éƒ½è¦åˆ¤æ–­å’Œè§£æå¯é€‰å€¼æ˜¯éå¸¸ä½æ•ˆçš„ï¼Œå› ä¸ºå¯ä»¥ç¡®å®šå®ƒæ€»ä¼šæœ‰å€¼ã€‚è¿™ç§ç±»å‹çš„å¯é€‰çŠ¶æ€è¢«å®šä¹‰ä¸º<strong>éšå¼è§£æå¯é€‰ç±»å‹</strong>ï¼ˆimplicitly unwrapped optionalsï¼‰ã€‚æŠŠæƒ³è¦ç”¨ä½œå¯é€‰çš„ç±»å‹çš„åé¢çš„é—®å·ï¼ˆString?ï¼‰æ”¹æˆæ„Ÿå¹å·ï¼ˆString!ï¼‰æ¥å£°æ˜ä¸€ä¸ªéšå¼è§£æå¯é€‰ç±»å‹ã€‚</p>
<p>24.ä¸€ä¸ªéšå¼è§£æå¯é€‰ç±»å‹å…¶å®å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯é€‰ç±»å‹ï¼Œä½†æ˜¯å¯ä»¥è¢«å½“åšéå¯é€‰ç±»å‹æ¥ä½¿ç”¨ï¼Œå¹¶ä¸éœ€è¦æ¯æ¬¡éƒ½ä½¿ç”¨è§£ææ¥è·å–å¯é€‰å€¼ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¯é€‰ç±»å‹Stringå’Œéšå¼è§£æå¯é€‰ç±»å‹Stringä¹‹é—´çš„åŒºåˆ«ï¼š</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> possibleString: <span class="type">String</span>? = <span class="string">"An optional string."</span></div><div class="line"><span class="keyword">let</span> forcedString: <span class="type">String</span> = possibleString! <span class="comment">// éœ€è¦æƒŠå¹å·æ¥è·å–å€¼</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> assumedString: <span class="type">String</span>! = <span class="string">"An implicitly unwrapped optional string."</span></div><div class="line"><span class="keyword">let</span> implicitString: <span class="type">String</span> = assumedString  <span class="comment">// ä¸éœ€è¦æ„Ÿå¹å·</span></div></pre></td></tr></table></figure>
<p>25.é”™è¯¯å¤„ç†</p>
<p><strong>æ³¨ï¼šåœ¨Swiftä¸­ï¼Œé”™è¯¯ç”¨éµå¾ªErrorTypeåè®®ç±»å‹çš„å€¼æ¥è¡¨ç¤ºã€‚</strong>è¿™ä¸ªç©ºåè®®è¡¨ç¤ºä¸€ç§å¯ä»¥ç”¨åšé”™è¯¯å¤„ç†çš„ç±»å‹ã€‚ Swiftçš„æšä¸¾ç±»å‹å°¤ä¸ºé€‚åˆå¡‘é€ ä¸€ç»„ç›¸å…³çš„é”™è¯¯æƒ…å½¢(error conditions)ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">enum</span> <span class="title">VendingMachineError</span>: <span class="title">ErrorType</span> </span>&#123;</div><div class="line">    <span class="keyword">case</span> <span class="type">InvalidSelection</span>   <span class="comment">//é€‰æ‹©æ— æ•ˆ</span></div><div class="line">    <span class="keyword">case</span> <span class="type">InsufficientFunds</span>(coinsNeeded: <span class="type">Int</span>)    <span class="comment">//é‡‘é¢ä¸è¶³</span></div><div class="line">    <span class="keyword">case</span> <span class="type">OutOfStock</span>         <span class="comment">//ç¼ºè´§</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">canThrowAnError</span><span class="params">()</span></span> <span class="keyword">throws</span> &#123;</div><div class="line">    <span class="comment">// è¿™ä¸ªå‡½æ•°æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯</span></div><div class="line">    </div><div class="line">    <span class="keyword">guard</span> <span class="keyword">var</span> item = <span class="string">"error"</span> <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="type">VendingMachineError</span>.<span class="type">InvalidSelection</span></div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">do</span> &#123;</div><div class="line">    <span class="keyword">try</span> makeASandwich()</div><div class="line">    eatASandwich()</div><div class="line">&#125; <span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">OutOfCleanDishes</span> &#123;</div><div class="line">    washDishes()</div><div class="line">&#125; <span class="keyword">catch</span> <span class="type">Error</span>.<span class="type">MissingIngredients</span>(<span class="keyword">let</span> ingredients) &#123;</div><div class="line">    buyGroceries(ingredients)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>26.å¯é€‰ç±»å‹å¯ä»¥è®©ä½ åˆ¤æ–­å€¼æ˜¯å¦å­˜åœ¨ï¼Œä½ å¯ä»¥åœ¨ä»£ç ä¸­ä¼˜é›…åœ°å¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µã€‚ç„¶è€Œï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœå€¼ç¼ºå¤±æˆ–è€…å€¼å¹¶ä¸æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶ï¼Œä½ çš„ä»£ç å¯èƒ½æ²¡åŠæ³•ç»§ç»­æ‰§è¡Œã€‚è¿™æ—¶ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ä»£ç ä¸­è§¦å‘ä¸€ä¸ªæ–­è¨€ï¼ˆassertionï¼‰æ¥ç»“æŸä»£ç è¿è¡Œå¹¶é€šè¿‡è°ƒè¯•æ¥æ‰¾åˆ°å€¼ç¼ºå¤±çš„åŸå› ã€‚</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> age = -<span class="number">3</span></div><div class="line"><span class="built_in">assert</span>(age &gt;= <span class="number">0</span>, <span class="string">"A person's age cannot be less than zero"</span>)</div><div class="line"><span class="comment">// å› ä¸º age &lt; 0ï¼Œæ‰€ä»¥æ–­è¨€ä¼šè§¦å‘</span></div></pre></td></tr></table></figure>
<p>å¦‚æœä¸éœ€è¦æ–­è¨€ä¿¡æ¯ï¼Œå¯ä»¥çœç•¥ï¼Œå°±åƒè¿™æ ·:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">assert</span>(age &gt;= <span class="number">0</span>)</div></pre></td></tr></table></figure>
</div></article></div></section><footer><div class="paginator"><a href="/2015/11/02/2015-11-02-swift-ji-ben-yun-suan-fu/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2015/11/01/2015-11-01-swift-chu-jian/" class="next">ä¸‹ä¸€ç¯‡</a></div><div data-thread-key="2015/11/02/2015-11-02-swift-ji-chu-bu-fen/" data-title="Swift 2.0 â€”â€” åŸºç¡€éƒ¨åˆ†" data-url="http://yoursite.com/2015/11/02/2015-11-02-swift-ji-chu-bu-fen/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"jiajiayouba"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>Â© 2014 - 2016 <a href="http://yoursite.com">iYiming</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>