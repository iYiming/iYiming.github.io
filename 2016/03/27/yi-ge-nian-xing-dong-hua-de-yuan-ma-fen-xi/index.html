<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 一个粘性动画的源码分析 · 一鸣的博客</title><meta name="description" content="一个粘性动画的源码分析 - iYiming"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://iYiming.me/atom.xml" title="一鸣的博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.jpg"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jiajiayouba" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/iYiming" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">一个粘性动画的源码分析</h1><div class="post-info">2016年3月27日</div><div class="post-content"><p>周四(2016-03-24)下午在公司做了一次技术分享，现整理成博客的形式。  </p>
<p>分享的内容是一款动画，动画源码下载地址、效果及 Keynote 下载地址如下：</p>
<p>源码下载地址：  </p>
<p><a href="https://github.com/KittenYang/GooeyTabbar" target="_blank" rel="external">https://github.com/KittenYang/GooeyTabbar</a> </p>
<p>Keynote 下载地址：</p>
<p><a href="http://pan.baidu.com/s/1qYUUKaw" target="_blank" rel="external">http://pan.baidu.com/s/1qYUUKaw</a>  </p>
<p>源码效果：  </p>
<p><img src="/images/animation_gooeytabbar/01.gif" alt="animation_gooeytabbar/01.gif">    </p>
<h2 id="什么是-CADisplayLink-？"><a href="#什么是-CADisplayLink-？" class="headerlink" title="什么是 CADisplayLink ？"></a>什么是 CADisplayLink ？</h2><h4 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h4><blockquote>
<p>A <code>CADisplayLink</code> object is a timer object that allows your application to synchronize its drawing to the refresh rate of the display.  </p>
<p>——By Apple</p>
<p><code>CADisplayLink</code> 对象是一个定时器对象，能够让你的应用程序随着屏幕刷新频率同步绘制。</p>
</blockquote>
<h4 id="如何使用-CADisplayLink-？"><a href="#如何使用-CADisplayLink-？" class="headerlink" title="如何使用 CADisplayLink ？"></a>如何使用 CADisplayLink ？</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> displayLink: <span class="type">CADisplayLink</span>? <span class="comment">// 声明一个 CADisplayLink 对象</span></div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">配置 CADisplayLink 对象</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">configDisplayLink</span><span class="params">()</span></span> &#123;</div><div class="line">  displayLink = <span class="type">CADisplayLink</span>(target: <span class="keyword">self</span>, selector: <span class="string">"handleDisplayLink:"</span>)</div><div class="line">  displayLink?.addToRunLoop(<span class="type">NSRunLoop</span>.currentRunLoop(), forMode: <span class="type">NSDefaultRunLoopMode</span>)</div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="comment">/**</span></div><div class="line">执行 CADisplayLink 指定的方法</div><div class="line">    </div><div class="line">- parameter displayLink: 即上面初始化的 displayLink</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">handleDisplayLink</span><span class="params">(displayLink: CADisplayLink)</span></span>&#123;</div><div class="line">    <span class="comment">//这里做些处理事情</span></div><div class="line"></div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="comment">/**</span></div><div class="line">  关闭 DisplayLink</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">func</span> <span class="title">stopDisplayLink</span><span class="params">()</span></span>&#123;</div><div class="line">    displayLink?.invalidate() <span class="comment">//从 Runloop 中移除</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>用代码的方式解释一下: </p>
<ol>
<li><p><code>CADisplayLink</code> 对象指定了一个选择器 <code>handleDisplayLink:</code>。  </p>
</li>
<li><p>将 <code>CADisplayLink</code> 对象添加至 <code>NSRunLoop.currentRunLoop()</code> 。</p>
</li>
<li><p>屏幕刷新完毕后，会执行上面指定的选择器 <code>handleDisplayLink:</code>（iOS 设备的屏幕刷新频率( FPS )是 60Hz，因此 <code>CADisplayLink</code> 的 <code>selector</code> 默认调用周期是每秒 60 次）。</p>
</li>
</ol>
<h4 id="CADisplayLink-VS-NSTimer"><a href="#CADisplayLink-VS-NSTimer" class="headerlink" title="CADisplayLink VS NSTimer"></a>CADisplayLink VS NSTimer</h4><p>看完上面的介绍，肯定会问 <code>CADisplayLink</code> 和 <code>NSTimer</code> 有什么区别？</p>
<p>1、原理不同  </p>
<blockquote>
<p><code>CADisplayLink</code> 是一个能让我们以和屏幕刷新率同步的频率将特定的内容画到屏幕上的定时器类。<code>CADisplayLink</code> 以特定模式注册到 Runloop 后，每当屏幕显示内容刷新结束的时候，Runloop 就会向 <code>CADisplayLink</code> 指定的 target 发送一次指定的 selector 消息， <code>CADisplayLink</code> 类对应的 selector 就会被调用一次。<br><code>NSTimer</code> 以指定的模式注册到 Runloop 后，每当设定的周期时间到达后，Runloop会向指定的 target 发送一次指定的 selector 消息。</p>
</blockquote>
<p>2、周期设置方式不同  </p>
<blockquote>
<p>iOS设备的屏幕刷新频率(FPS)是60Hz，因此 <code>CADisplayLink</code> 的 selector 默认调用周期是每秒 60 次，这个周期可以通过 <code>frameInterval</code> 属性设置，<code>CADisplayLink</code> 的 selector 每秒调用次数 <code>=60/frameInterval</code>。比如当 <code>frameInterval</code> 设为 2，每秒调用就变成 30 次。因此，<code>CADisplayLink</code> 周期的设置方式略显不便。  </p>
<p><code>NSTimer</code> 的 selector 调用周期可以在初始化时直接设定，相对就灵活的多。</p>
</blockquote>
<p>3、精确度不同  </p>
<blockquote>
<p>iOS 设备的屏幕刷新频率是固定的，<code>CADisplayLink</code> 在正常情况下会在每次刷新结束都被调用，精确度相当高。<br><code>NSTimer</code> 的精确度就显得低了点，比如 <code>NSTimer</code> 的触发时间到的时候，Runloop 如果在忙于别的调用，触发时间就会推迟到下一个 Runloop 周期。更有甚者，在 OS X 10.9 以后为了尽量避免在 <code>NSTimer</code> 触发时间到了而去中断当前处理的任务，NSTimer新增了<code>tolerance</code> 属性，让用户可以设置可以容忍的触发的时间范围。  </p>
</blockquote>
<p>4、使用场合</p>
<blockquote>
<p>从原理上不难看出，<code>CADisplayLink</code> 使用场合相对专一，适合做界面的不停重绘，比如视频播放的时候需要不停地获取下一帧用于界面渲染。<br><code>NSTimer</code> 的使用范围要广泛的多，各种需要单次或者循环定时处理的任务都可以使用。</p>
</blockquote>
<p>请参考：</p>
<p><a href="http://blog.csdn.net/wzzvictory/article/details/22417181" target="_blank" rel="external">http://blog.csdn.net/wzzvictory/article/details/22417181</a>  </p>
<h2 id="如何画曲线"><a href="#如何画曲线" class="headerlink" title="如何画曲线"></a>如何画曲线</h2><p>效果展示：</p>
<p><img src="/images/animation_gooeytabbar/02.gif" alt="animation_gooeytabbar/02.gif">  </p>
<p>p0, p2 是普通点，p1 是控制点。 </p>
<p>代码实现：  </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">drawRect</span><span class="params">(rect: CGRect)</span></span> &#123;</div><div class="line">  <span class="comment">// Drawing code</span></div><div class="line">  <span class="keyword">let</span> p0 = <span class="type">CGPoint</span>(x: <span class="number">50</span>, y: <span class="number">50</span>) <span class="comment">// 点 p0 </span></div><div class="line">  <span class="keyword">let</span> p1 = <span class="type">CGPoint</span>(x: <span class="number">65</span>, y: <span class="number">25</span>) <span class="comment">// 点 p1</span></div><div class="line">  <span class="keyword">let</span> p2 = <span class="type">CGPoint</span>(x: <span class="number">100</span>, y: <span class="number">50</span>) <span class="comment">// 点 p2</span></div><div class="line">  </div><div class="line">  <span class="keyword">let</span> path = <span class="type">UIBezierPath</span>() <span class="comment">// 创建 贝塞尔曲线路径 对象</span></div><div class="line">  path.moveToPoint(p0) <span class="comment">// 将画笔移至 点 p0</span></div><div class="line">  path.addQuadCurveToPoint(p2, controlPoint: p1) <span class="comment">// 为 p2添加二维曲线控制点为p1</span></div><div class="line">  </div><div class="line">  <span class="keyword">let</span> context = <span class="type">UIGraphicsGetCurrentContext</span>() <span class="comment">// 当前绘制上下文</span></div><div class="line">  <span class="type">CGContextAddPath</span>(context, path.<span class="type">CGPath</span>) <span class="comment">// 将创建的贝塞尔曲线路径对象添加至上下文中</span></div><div class="line">  <span class="type">UIColor</span>.redColor().<span class="keyword">set</span>() <span class="comment">// 设置绘制颜色</span></div><div class="line">  <span class="type">CGContextStrokePath</span>(context) <span class="comment">// 绘制</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="如何使用弹性动画"><a href="#如何使用弹性动画" class="headerlink" title="如何使用弹性动画"></a>如何使用弹性动画</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">弹性动画</div><div class="line">        </div><div class="line">- parameter duration:               动画时长</div><div class="line">- parameter delay:                  延迟时长</div><div class="line">- parameter usingSpringWithDamping: 阻尼系数</div><div class="line">- parameter initialSpringVelocity:  初始弹性速度</div><div class="line">- parameter options:                动画选项 如:EaseInOut</div><div class="line">- parameter animations:             动画 Block</div><div class="line">- parameter completion:             动画完成 Block</div><div class="line">*/</div><div class="line"><span class="meta">@available</span>(iOS <span class="number">7.0</span>, *)</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">animateWithDuration</span>(</span></div><div class="line"><span class="title">duration</span>: <span class="title">NSTimeInterval</span>, </div><div class="line"><span class="title">delay</span>: <span class="title">NSTimeInterval</span>, </div><div class="line"><span class="title">usingSpringWithDamping</span> <span class="title">dampingRatio</span>: <span class="title">CGFloat</span>, </div><div class="line"><span class="title">initialSpringVelocity</span> <span class="title">velocity</span>: <span class="title">CGFloat</span>, </div><div class="line"><span class="title">options</span>: <span class="title">UIViewAnimationOptions</span>, </div><div class="line"><span class="title">animations</span>: () -&gt; <span class="title">Void</span>, </div><div class="line"><span class="title">completion</span>: ((<span class="title">Bool</span>) -&gt; <span class="title">Void</span>)?</div><div class="line">)</div></pre></td></tr></table></figure>
<p>上面的注释已经写得很清楚，需要注意的是 <code>usingSpringWithDamping</code> 参数，即阻尼系数，数值范围 <code>0 &lt;= n &lt;= 1</code>,系数越大弹性越大。  </p>
<p>更多详细介绍，请参考：  </p>
<p><a href="https://www.renfei.org/blog/ios-8-spring-animation.html" target="_blank" rel="external">https://www.renfei.org/blog/ios-8-spring-animation.html</a>  </p>
<h2 id="粘性动画原理"><a href="#粘性动画原理" class="headerlink" title="粘性动画原理"></a>粘性动画原理</h2><p>效果展示：</p>
<p><img src="/images/animation_gooeytabbar/03.gif" alt="animation_gooeytabbar/03.gif">   </p>
<p>代码实现： </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">drawRect</span><span class="params">(rect: CGRect)</span></span> &#123;</div><div class="line">  <span class="comment">// Drawing code</span></div><div class="line">  <span class="keyword">let</span> viewWidth = <span class="keyword">self</span>.frame.width <span class="comment">// view 的宽度</span></div><div class="line">  <span class="keyword">let</span> viewHeight = <span class="keyword">self</span>.frame.height <span class="comment">// view 的高度</span></div><div class="line"></div><div class="line">  <span class="type">UIColor</span>.redColor().<span class="keyword">set</span>()</div><div class="line">  <span class="keyword">let</span> context = <span class="type">UIGraphicsGetCurrentContext</span>()</div><div class="line">  <span class="type">CGContextMoveToPoint</span>(context, <span class="number">0</span>, viewHeight) <span class="comment">// 左下角点</span></div><div class="line">  <span class="type">CGContextAddLineToPoint</span>(context, viewWidth, viewHeight) <span class="comment">// 右下角点</span></div><div class="line">  <span class="type">CGContextAddLineToPoint</span>(context, viewWidth, <span class="number">120</span>) <span class="comment">// 右上角点</span></div><div class="line">  <span class="type">CGContextAddQuadCurveToPoint</span>(context, viewWidth/<span class="number">2.0</span>, <span class="number">120</span> + <span class="type">CGFloat</span>(progress), <span class="number">0</span>, <span class="number">120</span>) <span class="comment">// 左上角 控制点</span></div><div class="line">  <span class="type">CGContextClosePath</span>(context) <span class="comment">//将开始点和结束点连接起来</span></div><div class="line">  <span class="type">CGContextFillPath</span>(context) <span class="comment">// 填充</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><p>详见<a href="http://pan.baidu.com/s/1qYUUKaw" target="_blank" rel="external">分享链接</a>里的源码注释。</p>
<h2 id="源码中的几个问题"><a href="#源码中的几个问题" class="headerlink" title="源码中的几个问题"></a>源码中的几个问题</h2><h4 id="内存引用问题"><a href="#内存引用问题" class="headerlink" title="内存引用问题"></a>内存引用问题</h4><p>源码 TabbarMenu.swift 中有这么一段代码：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">var</span> animateButton : <span class="type">AnimatedButton</span>? <span class="comment">// 动画按钮</span></div><div class="line"></div><div class="line"><span class="comment">//动画那个按钮 即那两条横线</span></div><div class="line">animateButton = <span class="type">AnimatedButton</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">200</span>, width: <span class="number">50</span>, height: <span class="number">30</span>))</div><div class="line"><span class="keyword">self</span>.view.addSubview(animateButton!)</div><div class="line">animateButton!.didTapped = &#123; (button) -&gt; () <span class="keyword">in</span></div><div class="line">  <span class="keyword">self</span>.triggerAction() <span class="comment">// 按钮点击触发方法</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这里面存在着一个保留环的问题：  </p>
<ol>
<li>TabbarMenu 实例 <code>self</code> 引用了 <code>animationButton</code>。  </li>
<li><code>animationButton</code> 的 block <code>didTapped</code> 又引用了<br><code>self.triggerAction()</code>。</li>
</ol>
<p>如何解决这个问题？在 Objective-C 中我们使用 <code>__weak</code>,在 Swift 中呢？我们需要添加 <code>[unowned self]</code>。实现如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//动画那个按钮 即那两条横线</div><div class="line">animateButton = AnimatedButton(frame: CGRect(x: 0, y: 200, width: 50, height: 30))</div><div class="line">self.view.addSubview(animateButton!)</div><div class="line">animateButton!.didTapped = &#123; [unowned self](button) -&gt; () in</div><div class="line">  self.triggerAction() // 按钮点击触发方法</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>关于 Swift 保留环，如何处理的问题，请参考：  </p>
<p><a href="http://stackoverflow.com/questions/24042949/block-retain-cycles-in-swift" target="_blank" rel="external">Block retain cycles in Swift?</a>  </p>
<h4 id="私有方法问题"><a href="#私有方法问题" class="headerlink" title="私有方法问题"></a>私有方法问题</h4><p>源码 AnimatedButton.swift 中有这么一段代码：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">self</span>.addTarget(<span class="keyword">self</span>, action: #selector(<span class="type">AnimatedButton</span>.animate), forControlEvents: .<span class="type">TouchUpInside</span>)  </div><div class="line"></div><div class="line"><span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">animate</span><span class="params">()</span></span> &#123;</div><div class="line">  ...</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>@objc</code> 是什么鬼？</p>
<p>如果去掉 <code>@objc</code>,在 Xcode 7.3 中会直接报错(Xcode 老版本 运行点击按钮会出现崩溃)：  </p>
<p><img src="/images/animation_gooeytabbar/04.png" alt="animation_gooeytabbar/04.png"></p>
<p><a href="http://stackoverflow.com/questions/25056278/swift-access-control-with-target-selectors" target="_blank" rel="external">经查证</a>，原因如下：</p>
<blockquote>
<p>Declarations marked private are not exposed to the Objective-C runtime if not otherwise annotated. IB outlets, IB actions, and Core Data managed properties remain exposed to Objective-C whatever their access level. If you need a private method or property to be callable from Objective-C (such as for an older API that uses a selector-based callback), add the @objc attribute to the declaration explicitly.</p>
</blockquote>
<p>大意为:</p>
<p>在 Swift 中,如果将方法或者属性标记为 <code>private</code>,将不会给 Objective-C Runtime 暴漏，如果想从 Objective-C（一些老的 API，像基于选择器的回调），必须明确添加 <code>@objc</code> 标识。</p>
<h4 id="修改高斯模糊视图-alpha-问题"><a href="#修改高斯模糊视图-alpha-问题" class="headerlink" title="修改高斯模糊视图 alpha 问题"></a>修改高斯模糊视图 alpha 问题</h4><p>在运行源码的过程中，我们看到控制台打印出如下警告：</p>
<blockquote>
<p>2016-03-27 10:29:28.879 GooeyTabbar[54798:1868007] <uivisualeffectview 0x7fcc9bd06fe0=""> is being asked to animate its opacity. This will cause the effect to appear broken until opacity returns to 1.</uivisualeffectview></p>
</blockquote>
<p>不应该修改 <code>UIVisualEffectView</code> 的 <code>opacity</code> 的属性。应做如下修改：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> overlay = <span class="type">UIVisualEffectView</span>()</div><div class="line"><span class="comment">// Put it somewhere, give it a frame...</span></div><div class="line"><span class="type">UIView</span>.animateWithDuration(<span class="number">0.5</span>) &#123;</div><div class="line">    overlay.effect = <span class="type">UIBlurEffect</span>(style: .<span class="type">Light</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>请参考：</p>
<p><a href="http://stackoverflow.com/questions/29307827/how-does-one-fade-a-uivisualeffectview-and-or-uiblureffect-in-and-out" target="_blank" rel="external">http://stackoverflow.com/questions/29307827/how-does-one-fade-a-uivisualeffectview-and-or-uiblureffect-in-and-out</a>  </p>
<h2 id="分享的心得体会"><a href="#分享的心得体会" class="headerlink" title="分享的心得体会"></a>分享的心得体会</h2><h4 id="0-如果一件事情你从来没做过，身边又没有合适的老师，怎么办-？"><a href="#0-如果一件事情你从来没做过，身边又没有合适的老师，怎么办-？" class="headerlink" title="0.如果一件事情你从来没做过，身边又没有合适的老师，怎么办 ？"></a>0.如果一件事情你从来没做过，身边又没有合适的老师，怎么办 ？</h4><p> <strong>从网上找相关专业最好的东西来模仿</strong>。</p>
<p> 我找的是苹果 WWDC Keynote 视频：  </p>
<p> <a href="https://developer.apple.com/videos/play/wwdc2015-106/" target="_blank" rel="external">What is New in Swift</a>    </p>
<h4 id="1-如何进行设计"><a href="#1-如何进行设计" class="headerlink" title="1.如何进行设计"></a>1.如何进行设计</h4><p>  现在才发现设计是如此重要，做程序猿也要文艺点。由于原先就意识到这个问题，读过《写给  大家看的设计书》这本书，如何对齐、如何重复、如何配色等等。这些对我启发很大。每个像素都值得深究。  </p>
<h4 id="2-如何配图"><a href="#2-如何配图" class="headerlink" title="2.如何配图"></a>2.如何配图</h4><p>   Keynote 中最重要的一点，就是好的配图。配图能激发听者的兴趣。因为原先写博客的原因，积累了一些有意思的配图。平常发现有意思的图，就应该收藏下来，说不定哪天就能派上用场。  </p>
<h4 id="3-一些新的发现"><a href="#3-一些新的发现" class="headerlink" title="3.一些新的发现"></a>3.一些新的发现</h4><p>   通过学习 Keynote，我找到了一些好的资料，比如许岑老师的教程以及如何使用 Keynote 做动效等。把每件小事做好，都是一件不简单的事情。  </p>
<h4 id="4-不足"><a href="#4-不足" class="headerlink" title="4.不足"></a>4.不足</h4><p>口才。终于明白，提前排练的重要性（连乔布斯也要在演讲前都要反复排练）。自己没有排练过，导致语次颠倒，逻辑稍有混乱。</p>
<h2 id="图片版"><a href="#图片版" class="headerlink" title="图片版"></a>图片版</h2><p><img src="/images/animation_gooeytabbar/1.jpeg" alt="images/1.jpeg"></p>
<p><img src="/images/animation_gooeytabbar/2.jpeg" alt="images/2.jpeg"></p>
<p><img src="/images/animation_gooeytabbar/3.jpeg" alt="images/3.jpeg"></p>
<p><img src="/images/animation_gooeytabbar/4.jpeg" alt="images/4.jpeg"></p>
<p><img src="/images/animation_gooeytabbar/5.jpeg" alt="images/5.jpeg"></p>
<p><img src="/images/animation_gooeytabbar/6.jpeg" alt="images/6.jpeg"></p>
<p><img src="/images/animation_gooeytabbar/7.jpeg" alt="images/7.jpeg"></p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/03/29/objective-c-dai-ma-gui-fan/" class="prev">上一篇</a><a href="/2016/01/21/liao-liao-gcd/" class="next">下一篇</a></div><div data-thread-key="2016/03/27/yi-ge-nian-xing-dong-hua-de-yuan-ma-fen-xi/" data-title="一个粘性动画的源码分析" data-url="http://iYiming.me/2016/03/27/yi-ge-nian-xing-dong-hua-de-yuan-ma-fen-xi/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"jiajiayouba"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2014 - 2016 <a href="http://iYiming.me">iYiming</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253468447'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s6.cnzz.com/z_stat.php%3Fid%3D1253468447%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?3cec0b24b46b86302d1aa3b050d4668f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
    })();</script></body></html>