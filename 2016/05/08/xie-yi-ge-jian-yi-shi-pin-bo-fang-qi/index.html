<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 写一个简易视频播放器 · 一鸣的博客</title><meta name="description" content="写一个简易视频播放器 - iYiming"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://iYiming.me/atom.xml" title="一鸣的博客"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.jpg"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jiajiayouba" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/iYiming" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">写一个简易视频播放器</h1><div class="post-info">2016年5月8日</div><div class="post-content"><p>周末抽时间写了个视频播放器，学习使用 Sketch，画了几个图标。实现功能如下：</p>
<ul>
<li>手势调节视频进度</li>
<li>手势调节视频亮度</li>
<li>手势调节音量</li>
</ul>
<p>实现效果图：</p>
<p><img src="/images/VideoPlayer/0.png" alt="/images/VideoPlayer"></p>
<a id="more"></a>
<p>废话少说，直接上代码：</p>
<h3 id="0-初始化一个视频播放器"><a href="#0-初始化一个视频播放器" class="headerlink" title="0.初始化一个视频播放器"></a>0.初始化一个视频播放器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">private lazy var player: AVPlayer = &#123;</div><div class="line">   let asset = AVURLAsset(URL: self.URL)</div><div class="line">   let playerItem = AVPlayerItem(asset: asset)</div><div class="line">   var player = AVPlayer(playerItem: playerItem)</div><div class="line">        </div><div class="line">   let vol = AVAudioSession.sharedInstance().outputVolume</div><div class="line">   player.volume = 20.0 * log10f(vol + FLT_MIN)</div><div class="line">   self.startVolume =  player.volume;</div><div class="line">        </div><div class="line">   return player</div><div class="line">&#125;()</div><div class="line"></div><div class="line">let playerLayer = AVPlayerLayer(player: player)</div><div class="line">playerLayer.frame = self.bounds</div><div class="line">self.layer.addSublayer(playerLayer)</div></pre></td></tr></table></figure>
<h3 id="1-添加监听属性"><a href="#1-添加监听属性" class="headerlink" title="1.添加监听属性"></a>1.添加监听属性</h3><p>监听的属性有：  </p>
<ul>
<li>播放进度</li>
<li>音量</li>
<li>亮度</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">dynamic private var brightness: Float = 1 // 亮度</div><div class="line">dynamic private var volume: Float = 1  // 音量</div><div class="line">dynamic private var progress: Float = 1 // 播放进度</div><div class="line"></div><div class="line">func addObserver() &#123;  </div><div class="line">   // 添加视频播放进度监听</div><div class="line">   player.addPeriodicTimeObserverForInterval(CMTimeMakeWithSeconds(1.0,Int32(NSEC_PER_SEC)), queue: nil, usingBlock: &#123; (time) in</div><div class="line">        let doneTime = CMTimeGetSeconds(time)</div><div class="line">        let undoneTime = self.totalDuration - doneTime</div><div class="line">            </div><div class="line">        self.configView.progressView.beginTime = doneTime</div><div class="line">        self.configView.progressView.endTime = undoneTime</div><div class="line">        self.configView.progressView.progress = doneTime/self.totalDuration</div><div class="line">    &#125;)</div><div class="line">        </div><div class="line">    // 亮度</div><div class="line">    self.addObserver(self, forKeyPath: &quot;brightness&quot;, options: .New, context: nil)</div><div class="line">    // 音量</div><div class="line">    self.addObserver(self, forKeyPath: &quot;volume&quot;, options: .New, context: nil)</div><div class="line">    // 播放进度</div><div class="line">    self.addObserver(self, forKeyPath: &quot;progress&quot;, options: .New, context: nil)</div><div class="line">&#125;</div><div class="line">    </div><div class="line">// 移除监听</div><div class="line">func removeObserver() &#123;</div><div class="line">    self.removeObserver(self, forKeyPath: &quot;brightness&quot;)</div><div class="line">    self.removeObserver(self, forKeyPath: &quot;volume&quot;)</div><div class="line">    self.removeObserver(self, forKeyPath: &quot;progress&quot;)</div><div class="line">&#125;</div><div class="line"></div><div class="line">override func observeValueForKeyPath(keyPath: String?, ofObject object: AnyObject?, change: [String : AnyObject]?, context: UnsafeMutablePointer&lt;Void&gt;) &#123;</div><div class="line">    if keyPath == &quot;brightness&quot; &#123; // 亮度</div><div class="line">        let brightnessValue = change![&quot;new&quot;] as! CGFloat</div><div class="line">        </div><div class="line">        self.configView.lightView.progress = brightnessValue</div><div class="line">    &#125; else if keyPath == &quot;volume&quot; &#123; // 音量</div><div class="line">        let volumeValue = change![&quot;new&quot;] as! Float</div><div class="line">        player.volume = volumeValue</div><div class="line">        configView.volumeView.progress = CGFloat(volumeValue)</div><div class="line">    &#125; else if keyPath == &quot;progress&quot; &#123; // 播放进度</div><div class="line">        let progressValue = change![&quot;new&quot;] as! Float</div><div class="line">        let dragedSeconds = floorf(Float(totalDuration) * progressValue);</div><div class="line">        let newCMTime = CMTimeMake(Int64(dragedSeconds),1);</div><div class="line">        player.seekToTime(newCMTime)</div><div class="line">        player.play()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="2-手势实现调节播放进度、亮度、音量"><a href="#2-手势实现调节播放进度、亮度、音量" class="headerlink" title="2.手势实现调节播放进度、亮度、音量"></a>2.手势实现调节播放进度、亮度、音量</h3><p>建一个配置类型枚举：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public enum VideoPlayerConfigType &#123;</div><div class="line">    case None</div><div class="line">    case Volume // 调节音量</div><div class="line">    case Brightness // 调节亮度</div><div class="line">    case Progress // 调节进度</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>设置 <code>touchesBegan</code> 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">override func touchesBegan(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) &#123;</div><div class="line">    guard event?.allTouches()?.count == 1 else &#123; // 一个手指</div><div class="line">        return</div><div class="line">    &#125;    </div><div class="line">    </div><div class="line">    let touch = touches.first </div><div class="line">    let location = touch?.locationInView(self)</div><div class="line">        </div><div class="line">    configType = .None // 配置类型</div><div class="line">    startLocation = location! // 开始位置</div><div class="line">    </div><div class="line">    // 起始进度</div><div class="line">    startProgress =  CMTimeGetSeconds(player.currentItem!.currentTime()) / totalDuration</div><div class="line">    // 起始亮度</div><div class="line">    startBrightness = Float(UIScreen.mainScreen().brightness)</div><div class="line">    // 起始音量 （后续会改为系统音量设置）</div><div class="line">    startVolume = player.volume</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>设置 <code>touchesMoved</code> 方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line">override func touchesMoved(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) &#123;</div><div class="line">    guard event?.allTouches()?.count == 1 else &#123;</div><div class="line">        return</div><div class="line">    &#125;</div><div class="line">        </div><div class="line">    let touch = touches.first</div><div class="line">    let location = touch?.locationInView(self)</div><div class="line">        </div><div class="line">    let changeY = location!.y - startLocation.y;</div><div class="line">    let changeX = location!.x - startLocation.x;</div><div class="line">        </div><div class="line">    if configType == .None &#123;</div><div class="line">        if fabs(changeX) &gt; fabs(changeY) &#123; // 左右滑动</div><div class="line">            configType = .Progress</div><div class="line">        &#125; else if fabs(changeY) &gt; fabs(changeX) &#123; // 上下滑动</div><div class="line">            let screenWidth = CGRectGetHeight(UIScreen.mainScreen().bounds)</div><div class="line">            if location!.x &gt;= screenWidth/2.0 &#123; // 屏幕右侧滑动</div><div class="line">                configType = .Volume</div><div class="line">                startVolume = player.volume</div><div class="line">            &#125; else &#123; // 屏幕左侧滑动</div><div class="line">                configType = .Brightness</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    if configType == .Volume &#123; // 音量</div><div class="line">        let yOffset = (Float(startLocation.y - (location?.y)!))/100;</div><div class="line">            </div><div class="line">        if (startVolume + yOffset) &gt; 1 &#123; // 音量 &gt; 1 设置为 1</div><div class="line">            startLocation = location!</div><div class="line">                </div><div class="line">            startVolume = 1</div><div class="line">            volume = 1</div><div class="line">        &#125; else if (startVolume + yOffset) &lt; 0 &#123; // 音量 &lt; 0 设置为 0</div><div class="line">            startLocation = location!</div><div class="line">                </div><div class="line">            startVolume = 0</div><div class="line">            volume = 0</div><div class="line">        &#125; else &#123; // 正常范围</div><div class="line">            volume = startVolume + yOffset</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        print(&quot;音量: \(volume)&quot;);</div><div class="line">    &#125; else if configType == .Brightness &#123; // 亮度</div><div class="line">        let yOffset = (Float(startLocation.y - (location?.y)!))/100;</div><div class="line">            </div><div class="line">        if (startBrightness + yOffset) &gt; 1 &#123; // 亮度 &gt; 1 设置为 1</div><div class="line">            startLocation = location!</div><div class="line">                </div><div class="line">            brightness = 1;</div><div class="line">            startBrightness = 1</div><div class="line">        &#125; else if (startBrightness + yOffset) &lt; 0 &#123; // 亮度 &lt; 0 设置为 0</div><div class="line">            startLocation = location!</div><div class="line">                </div><div class="line">            brightness = 0;</div><div class="line">            startBrightness = 0</div><div class="line">        &#125; else &#123; // 正常范围</div><div class="line">            brightness = startBrightness + yOffset</div><div class="line">        &#125;</div><div class="line">            </div><div class="line">        print(&quot;亮度: \(brightness)&quot;);</div><div class="line">    &#125; else if configType == .Progress &#123; // 进度</div><div class="line">        let screenHeight = CGRectGetHeight(UIScreen.mainScreen().bounds)</div><div class="line">        let xOffset = (Double((location?.x)! - startLocation.x))/Double(screenHeight);</div><div class="line">            </div><div class="line">        if (startProgress + xOffset) &gt; 1 &#123; // 播放进度 &gt; 1 设置为 1</div><div class="line">            startLocation = location!</div><div class="line">                </div><div class="line">            startProgress = 1</div><div class="line">            progress = 1</div><div class="line">        &#125; else if (startProgress + xOffset) &lt; 0 &#123; // 播放进度 &lt; 0 设置为 0</div><div class="line">            startLocation = location!</div><div class="line">                </div><div class="line">            startProgress = 0</div><div class="line">            progress = 0</div><div class="line">        &#125; else &#123; // 正常进度</div><div class="line">            progress = Float(startProgress + xOffset)</div><div class="line">        &#125;</div><div class="line">            </div><div class="line">        print(&quot;进度 \(startProgress + xOffset)&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="3-亮度视图（音量视图、进度视图类似）"><a href="#3-亮度视图（音量视图、进度视图类似）" class="headerlink" title="3.亮度视图（音量视图、进度视图类似）"></a>3.亮度视图（音量视图、进度视图类似）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div></pre></td><td class="code"><pre><div class="line">class LightView: UIView &#123;</div><div class="line">    dynamic var progress: CGFloat = 0.0 // 进度</div><div class="line">    </div><div class="line">    override init(frame: CGRect) &#123;</div><div class="line">        super.init(frame: frame)</div><div class="line">        </div><div class="line">        self.addObserver()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    required init?(coder aDecoder: NSCoder) &#123;</div><div class="line">        super.init(coder: aDecoder)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    deinit &#123;</div><div class="line">        self.removeObserver()</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    func addObserver() &#123;</div><div class="line">        self.addObserver(self, forKeyPath: &quot;progress&quot;, options: .New, context: nil)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    func removeObserver() &#123;</div><div class="line">        self.removeObserver(self, forKeyPath: &quot;progress&quot;)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    // 配置界面 使用 frame 实现</div><div class="line">    func configUI() &#123;</div><div class="line">        let lightIncreaseImage = UIImage.init(named: &quot;Light_Increase&quot;)!</div><div class="line">        let lightIncreaseImageSize = lightIncreaseImage.size</div><div class="line">        let lightIncreaseImageView = UIImageView.init(image: lightIncreaseImage)</div><div class="line">        lightIncreaseImageView.frame = CGRect(x: (self.frame.width - lightIncreaseImageSize.width)/2.0, y: 0, width: lightIncreaseImageSize.width, height: lightIncreaseImageSize.height)</div><div class="line">        self.addSubview(lightIncreaseImageView)</div><div class="line">        </div><div class="line">        self.layer.addSublayer(undoneLayer)</div><div class="line">        self.layer.addSublayer(doneLayer)</div><div class="line">        </div><div class="line">        let lightDecreaseImage = UIImage.init(named: &quot;Light_Decrease&quot;)!</div><div class="line">        let lightDecreaseImageSize = lightDecreaseImage.size</div><div class="line">        let lightDecreaseImageView = UIImageView.init(image: lightDecreaseImage)</div><div class="line">        lightDecreaseImageView.frame = CGRect(x: (self.frame.width - lightDecreaseImageSize.width)/2.0, y: self.frame.height - lightDecreaseImageSize.height, width: lightDecreaseImageSize.width, height: lightDecreaseImageSize.height)</div><div class="line">        self.addSubview(lightDecreaseImageView)</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    // 未设置的亮度 Layer</div><div class="line">    private lazy var undoneLayer: CALayer = &#123;</div><div class="line">        var undoneLayer = CALayer()</div><div class="line">        undoneLayer.frame = CGRectMake((self.frame.width - 4)/2.0, (self.frame.height - 140)/2.0, 4, 140)</div><div class="line">        undoneLayer.backgroundColor = UIColor.init(white: 1, alpha: 0.2).CGColor</div><div class="line">        return undoneLayer</div><div class="line">    &#125;()</div><div class="line">    </div><div class="line">    // 已经设置的亮度 Layer 比 未设置的亮度 Layer 白一点</div><div class="line">    private lazy var doneLayer: CALayer = &#123;</div><div class="line">        var doneLayer = CALayer()</div><div class="line">        doneLayer.frame = CGRectMake((self.frame.width - 4)/2.0, (self.frame.height - 140)/2.0 + 100, 4, 40)</div><div class="line">        doneLayer.backgroundColor = UIColor.init(white: 1, alpha: 0.6).CGColor</div><div class="line">        return doneLayer</div><div class="line">    &#125;()</div><div class="line">    </div><div class="line">    override func observeValueForKeyPath(keyPath: String?, ofObject object: AnyObject?, change: [String : AnyObject]?, context: UnsafeMutablePointer&lt;Void&gt;) &#123;</div><div class="line">        if keyPath == &quot;progress&quot; &#123;</div><div class="line">            let doneValue = change![&quot;new&quot;] as! CGFloat</div><div class="line">            let progress = doneValue * 140</div><div class="line">            UIScreen.mainScreen().brightness = doneValue // 设置屏幕亮度</div><div class="line">            doneLayer.frame = CGRectMake((self.frame.width - 4)/2.0, (self.frame.height - 140)/2.0 + (140 - progress), 4, progress)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>功能还有待完善，后续会优化及添加一些其他功能：</p>
<ul>
<li>使用 Auto Layout 进行布局</li>
<li>双击暂停等更多手势添加</li>
<li>视频导入（WiFi、iTunes）</li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2016/05/22/zi-ding-yi-xia-la-shua-xin/" class="prev">上一篇</a><a href="/2016/04/24/sdwebimage-3/" class="next">下一篇</a></div><div data-thread-key="2016/05/08/xie-yi-ge-jian-yi-shi-pin-bo-fang-qi/" data-title="写一个简易视频播放器" data-url="http://iYiming.me/2016/05/08/xie-yi-ge-jian-yi-shi-pin-bo-fang-qi/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"jiajiayouba"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2014 - 2016 <a href="http://iYiming.me">iYiming</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253468447'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s6.cnzz.com/z_stat.php%3Fid%3D1253468447%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?3cec0b24b46b86302d1aa3b050d4668f";var s = document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm, s);})();</script></body></html>